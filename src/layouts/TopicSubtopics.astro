---
import { type CollectionEntry } from "astro:content";
import Layout from "@layouts/Layout.astro";
import Main from "@layouts/Main.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import TemplatesGrid from "@/components/TemplatesGrid.astro";
import { toUpperFirst } from "@/utils/toUpperFirst";

export interface Props {
  subtopics: CollectionEntry<"subtopics">[];
  topic: string;
}

const { subtopics, topic } = Astro.props;
---

<Layout title={`${topic}`}>
  <Header activeNav="topic" />
  <Main
    pageTitle={`${toUpperFirst(topic)}`}
    titleTransition={topic}
    pageDesc={`All subtopics with ${topic}.`}
  >
    <h1 slot="title" transition:name={topic}>{`Topic:${topic}`}</h1>
    <TemplatesGrid topics={[{ topic }]} subtopics={subtopics} />
  </Main>
  <Footer />
</Layout>
